# 以太坊二层扩容

## 为什么要扩容？

随着以太坊使用人数的增加，区块链达到一定的容量限制。网络使用成本提高了，这导致需要“扩容解决方案”。

扩容的主要目的是：在不影响去中心化和安全性的基础上提升交易速度和交易吞吐量。在第一层以太坊区块链上，高需求导致了交易速度减慢和燃料价格难以持续。虽然速度和吞吐量很重要，但实现这些目标的扩容解决方案必须保持去中心化和安全性。降低节点运营商的进入门槛，对于防止向不安全的中心化计算能力发展至关重要。

扩容又分为链上扩容和链外扩容两类。 

## 链上扩容

链上扩容需要更改以太坊协议来实现，其中区块链分片有望扩展以太坊。

### 分片

分片就是将区块链拆分成单独的部分（拆分数据库的过程），部分验证者将负责单独的分片，而不是跟踪整个以太坊。比如说一个任务原本需要每个人都做一遍，现在变成一个人任务分成很多个部分，每个人负责对应的部分，并且部分与部分直接会有对接。这种方式提高了整体的性能和速度。

然而二层网络卷叠（Rollups）的发展以及Danksharding的发明（将卷叠数据的二进制大对象添加以太坊区块中，并且验证者可以非常高效地进行验证），让以太坊社区青睐以卷叠为中心的扩容方案，而不是分片扩容方案。 这也将有助于保持以太坊的共识逻辑更简单。

## 链下扩容

链下扩容无需更改现有的以太坊协议。其中一部分扩容方案称为“二层网络”解决方案，它们直接从一层网络以太坊共识中获得安全性，例如乐观卷叠（Op Rollup）、零知识卷叠（ZK Rollup）和状态通道。其他的扩容方案涉及了创建独立于主网获取安全性的各种形式的新链，例如侧链、Validium或Plasma链。这些解决方案与主网进行通信，但为了实现各种目标，它们获得安全性的方式也有所不同。

### [卷叠](Rollups.md)（Rollups）

卷叠在一层网络外执行交易，并在达成共识时，在一层网络公开数据。 由于交易数据包含在一层网络区块中，因此可以通过原生的以太坊安全性来保证卷叠的安全性。

有两种具有不同安全模型的卷叠：

* **乐观卷叠**（Op Rollup）：假设交易在默认情况下有效，并且在遇到挑战的情况下只通过欺诈证明运行计算。
* **零知识卷叠**（ZK Rollup）：在链下运行计算并向链上提交有效性证明。

### [状态通道](statechannel.md)

状态通道采用了多签合约，使参与者能够在链下快速自由地进行交易，然后再与主网落实最终确定性。 这将最大限度地减少网络拥塞、费用和延迟。 现在有两种通道：状态通道和支付通道。

### [侧链](sidechain.md)

侧链是与主网并行运行且兼容以太坊虚拟机的独立区块链。其通过双向桥接与以太坊兼容，按照自行选择的共识规则和区块参数运行。

### [Plasma](Plasma.md)

Plasma是一条独立的区块链，锚定至以太坊主链，并使用欺诈证明来仲裁争议。

### [Validium](Validium.md)

Validium链使用诸如零知识卷叠之类的有效性证明，但数据为存储在一层网络以太坊主链上。这使得每条Validium链每秒处理10000笔交易，并且可以运行多条链。

### [存储扩容](存储扩容.md)

在二层扩容中，有许多不同方向的扩容策略，包括Op Rollup和ZK Rollup等，都是在解决以太坊的计算、交易、TPS等性能问题上做扩容改进，并获得以太坊的安全性，属于在计算层上做扩容。而EthStorage是对存储层的扩容，并希望降低以太坊存储成本，提高存储能力到PB级别以上。

### [Fuel](Fuel.md)

Fuel被称为“模块化执行层”，指的是Fuel作为执行层运行，能够进行多种不同的配置，例如作为以太坊的 Optimistic Rollup，或利用 Celestia 进行 DA 和以太坊达成共识和结算。
