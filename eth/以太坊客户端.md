# 以太坊客户端

## 什么是以太坊客户端？

以太坊客户端是实现以太坊规范，并通过对等网络与其他以太坊客户端进行通信的软件应用程序。不同的以太坊客户端如果符合参考规范和标准化通信协议，就可以互操作。虽然这些不同的客户端由不同的团队和不同的编程语言实现，但他们都“说”相同的协议并遵循相同的规则。

## 为什么会有多种客户端？

存在多种独立开发和维护的客户端，是因为客户端多样性使网络对攻击和漏洞更具恢复能力。 **多种客户端是以太坊独有的优势**，而其他区块链依赖于单一客户端的无误性。 然而，仅仅拥有多种可用的客户端是不够的，这些客户端必须被社区采用，并且全部活跃节点必须相对均匀地分布在它们之间。

### 客户端多样性的重要性

#### 漏洞

当代表少数以太坊节点时，一种客户端中的漏洞对网络的风险较小。 由于许多客户端的节点分布大致均匀，大多数客户端出现同一问题的可能性很小，因此网络更加稳健。

#### 抵御攻击

客户端多样性还提供了抵御攻击的能力。 例如，要欺骗特定客户端让其接受链的某条分支，这种攻击不太可能成功，因为不大可能以相同方式利用其他客户端，并且规范链未损坏。 客户端多样性程度低增加了主要客户端受到黑客攻击的风险。 已经证实，客户端多样性是抵御网络受到恶意攻击的重要防御手段，例如，由于攻击者能够欺骗主要客户端 (Geth) 对每个区块执行数万次慢速磁盘输入/输出操作，2016 年的上海拒绝服务攻击得以实施。 由于有其他客户端在线且没有同样的漏洞，因此以太坊能够抵抗那次攻击并继续运行，同时修复了 Geth 中的漏洞。

#### 权益证明的最终确定性

占据超过 33% 的以太坊节点的共识客户端中有一个漏洞，它可能会阻止信标链最终确定，这意味着用户可能无法相信交易在某些时候不会被回滚或更改。 对于许多建立在以太坊之上的应用程序，尤其是去中心化金融，这将是一个很大的问题。

  更糟糕的是，当拥有三分之二多数节点的客户端出现严重漏洞，可能会导致链错误地分叉并最终确定，让大量验证者困陷在无效链上。 如果这些验证者想重新加入正确的链，他们将面临罚没或缓慢而昂贵的自愿退出和重新激活过程。 罚没的轻重随过错节点数量而异，三分之二多数将受到最严重的惩罚。

尽管这些情况不太可能发生，但为了降低这类风险，以太坊生态系统可以使客户端均衡分布在活跃节点上。 理想情况下，任何共识客户端任何时候都不会达到总节点数的 33%。

#### 共担责任

采用主流客户端也需要人力成本。 这给小型开发团队带来了过多的压力和责任。 客户端多样性程度越低，维护主流客户端的开发者的责任负担就越大。 将这一责任分摊到多个团队，不但有利于以太坊节点网络的健康，也对相关人员的健康有益。

## 使用非主流客户端

解决客户端多样性问题不仅需要个人用户选择非主流客户端，还需要矿池/验证者池以及主要去中心应用程序和交易所等机构改用客户端。 然而，所有用户都可以尽一份力量，纠正目前的失衡状况并且实现所有可用以太坊软件的使用正常化。 合并后，所有节点运营商都需要运行执行客户端和共识客户端。 选择下面建议的客户端组合将有助于提高客户端多样性。

### 执行客户端

* [Besu](https://www.hyperledger.org/use/besu)
* [Erigon](https://github.com/ledgerwatch/erigon)
* [Nethermind](https://downloads.nethermind.io/)
* [Geth](https://geth.ethereum.org/)

### 共识客户端

* [Lighthouse](https://github.com/sigp/lighthouse)
* [Lodestar](https://github.com/ChainSafe/lodestar)
* [Nimbus](https://nimbus.team/)
* [Teku](https://consensys.net/knowledge-base/ethereum-2/teku/)
* [Prysm](https://prysmaticlabs.com/)

***

节选文章：

https://ethereum.org/zh/developers/docs/nodes-and-clients/client-diversity/
